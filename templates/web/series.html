{% extends "base.html" %}

{% block title %}{{ t.nav.series }} â€” {{ app_title }}{% endblock %}

{% block content %}
  <h4 class="mb-3">
    {{ t.nav.series }}
    {% if search_terms is defined and search_terms != "" %}
    <small class="text-body-secondary">/ {{ search_terms }}</small>
    {% endif %}
  </h4>

  {% if back_url is defined %}
  <nav class="mb-3">
    <a href="{{ back_url }}" class="text-decoration-none">
      <i class="bi bi-arrow-left me-1"></i>{{ t.nav.series }}
    </a>
  </nav>
  {% endif %}

  {% if series_list | length == 0 %}
    <p class="text-body-secondary">{{ t.common.no_results }}</p>
  {% else %}
  <div class="list-group">
    {% for ser in series_list %}
    <a href="/web/search/books?type=s&q={{ ser.id }}{% if search_terms_encoded is defined and search_terms_encoded != '' %}&src_q={{ search_terms_encoded }}{% endif %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
      <span>{{ ser.ser_name }}</span>
      <span class="badge text-bg-secondary rounded-pill">{{ ser.book_count }}</span>
    </a>
    {% endfor %}
  </div>
  {% endif %}

  {% if pagination.total_pages > 1 %}
  {% include "web/_pagination.html" %}
  {% endif %}
{% endblock %}
